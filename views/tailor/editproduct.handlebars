

 <div class="container">
        <div class="row">
            <div class="col-lg-12 col-md-12">
                <div class="contact-form">
                    <div class="contact-title mb-30">
                        <h2>Add Product/Service</h2>
                    </div>
                    *Required fields.
                    <form class="contact-form-style" action="/tailor/addproduct" method="post">
                     {{!-- enctype=multipart/form-data --}}
                        <div class="row">
                            <div class="col-lg-6">
                                <label for="name">Name:<span style="color:red;">*</span></label>
                                <input id="name" name="name" class="form-control" type="text" value="{{name}}" required>
                            </div>
                            <div class="col-lg-3">
                                <label for="price">Price:* (Exclude $ sign)</label>
                                <input id="price" name="price" type="text" value="{{price}}">
                            </div>
                            <div class="col-lg-3">
                                <label for="discount">Discounts:* (0 for N.A)</label>
                                <input id="discount" name="discount" type="text" value="{{discount}}">
                            </div>
                            {{!-- <div class="col-lg-12">
                                <label for="image">Image:*</label>
                                <input id="image" name="image" type="file">
                            </div> --}}
                            <div class="col-lg-12">
                                <label for="description">Description:</label>
                                <textarea id="description" name="description">{{description}}</textarea>
                                <br>
                            </div>
                            <div class="col-lg-12" style="border-top: 2px solid black;">
                                <b>Customisable Questions (Optional):</b>
                                If you have additional questions you would like to check with your customers before their purchase, for example: Length to be altered in CM, you may fill up the following questions field.
                            </div>
                            <div class="col-lg-12">
                                <label for="q1">Question 1:</label>
                                <input id="question" name="question" type="text" value="{{q1}}">
                            </div>
                            <div class="col-lg-12">
                                <label for="q1category">Category</label>
                                <ul class="category-select-list" id="q1category" onclick="checkValue()">
                                    {{#if question}}
                                    <li><input id="q1category-0" name="q1category" type="radio" value=""> <label for="q1category-0"></label></li>
                                        {{#ifCond q1category '==' "textbox"}}
                                        <li><input id="q1category-1" name="q1category" type="radio" value="textbox" checked> <label for="q1category-1">Textbox - Open-ended question</label></li>
                                        {{else}}
                                        <li><input id="q1category-1" name="q1category" type="radio" value="textbox"> <label for="q1category-1">Textbox - Open-ended question</label></li>
                                        {{/ifCond}}

                                        {{#ifCond q1category '==' "radiobtn"}}
                                        <li><input id="q1category-2" name="q1category" type="radio" value="radiobtn" checked> <label for="q1category-2">Dropdown Menu - Show a list of selections the user can choose from</label></li>
                                        {{else}}
                                        <li><input id="q1category-2" name="q1category" type="radio" value="radiobtn"> <label for="q1category-2">Dropdown Menu - Show a list of selections the user can choose from</label></li>
                                        {{/ifCond}}
                                    {{else}}
                                    <li><input checked="" id="q1category-0" name="q1category" type="radio" value=""> <label for="q1category-0"></label></li>
                                    <li><input id="q1category-1" name="q1category" type="radio" value="textbox"> <label for="q1category-1">Textbox - Open-ended question</label></li>
                                    <li><input id="q1category-2" name="q1category" type="radio" value="radiobtn"> <label for="q1category-2">Dropdown Menu - Show a list of selections the user can choose from</label></li>
                                    {{/if}}
                                </ul>

                            </div>
                            <div class="col-lg-12" id="newFields">
                                <button type="button" id="addNewField">Add Choice</button>
                                <button type="button" id="removeLastField">Remove Last Choice</button>
                                {{#each pchoices}}
                                <input class="form-control" id="flist{{@index}}" name="flist{{@index}}" value="{{this.choice}}">
                                {{/each}}
                            </div>
                            <div class="col-lg-12">
                                <input type="hidden" id="fieldNum" name="fieldNum" value="0">
                            </div>
                            <div class="col-lg-12">
                                <button class="submit" type="submit" style="float: right;">Add Product</button>
                            </div>
                        </div>
                    </form>
                    <p class="form-messege"></p>
                </div>
            </div>
        </div>
    </div>
<br>

<script>
    var fieldNum = {{pchoices.length}};
    window.onload = function() {
        checkValue();
        {{!-- var newInput = $("<input></input>")
                .attr("class", "form-control")
                .attr("id", "flist" + fieldNum)
                .attr("name", "flist" + fieldNum)
                $("#newFields").append(newInput);
                fieldNum++; --}}
        $("#addNewField").click(function() {
            if (fieldNum <10) {
                var newInput = $("<input></input>")
                .attr("class", "form-control")
                .attr("id", "flist" + fieldNum)
                .attr("name", "flist" + fieldNum)
                $("#newFields").append(newInput);
                fieldNum++;
                document.getElementById("fieldNum").value=fieldNum;
            }
            else {
                alert("You cannot add more than 10 choices.");
            }
            
        });
        $("#removeLastField").click(function() {
            $('#newFields input:text:last').remove();
            if(fieldNum > 0){
                fieldNum--;
                document.getElementById("fieldNum").value=fieldNum;
            }
        });
    }
    function checkValue() {
        var q1 = document.getElementsByName('q1category');
        var q1_value;
        for(var i = 0; i < q1.length; i++){
            if(q1[i].checked){
                q1_value = q1[i].value;
                break;
            }
        }

        if(q1_value == "textbox" || q1_value == ""){
            document.getElementById("addNewField").hidden=true;
            document.getElementById("removeLastField").hidden=true;
        }
        else {
            document.getElementById("addNewField").hidden=false;
            document.getElementById("removeLastField").hidden=false;
        }
    }
</script>